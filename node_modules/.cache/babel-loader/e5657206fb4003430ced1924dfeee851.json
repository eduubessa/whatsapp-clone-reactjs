{"ast":null,"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.getAction = void 0;\n\nfunction getAction(action_type, gif_id, tid, position, attributes) {\n  if (attributes === void 0) {\n    attributes = [];\n  }\n\n  if (position && // apppend position only if it's not passed as a custom attribute\n  !attributes.some(function (attributes) {\n    return attributes.key === 'position';\n  })) {\n    attributes.push({\n      key: \"position\",\n      value: JSON.stringify(position)\n    });\n  }\n\n  return {\n    action_type: action_type,\n    ts: Date.now(),\n    gif_id: gif_id,\n    tid: tid,\n    attributes: attributes\n  };\n}\n\nexports.getAction = getAction;","map":{"version":3,"sources":["../src/util.ts"],"names":[],"mappings":";;;;;;;AAEA,SAAgB,SAAhB,CACI,WADJ,EAEI,MAFJ,EAGI,GAHJ,EAII,QAJJ,EAKI,UALJ,EAKwC;AAApC,MAAA,UAAA,KAAA,KAAA,CAAA,EAAA;AAAA,IAAA,UAAA,GAAA,EAAA;AAAoC;;AAEpC,MACI,QAAQ,IACR;AACA,GAAC,UAAU,CAAC,IAAX,CAAgB,UAAA,UAAA,EAAU;AAAI,WAAA,UAAU,CAAC,GAAX,KAAA,UAAA;AAA6B,GAA3D,CAHL,EAIE;AACE,IAAA,UAAU,CAAC,IAAX,CAAgB;AACZ,MAAA,GAAG,EAAE,UADO;AAEZ,MAAA,KAAK,EAAE,IAAI,CAAC,SAAL,CAAe,QAAf;AAFK,KAAhB;AAIH;;AACD,SAAO;AACH,IAAA,WAAW,EAAA,WADR;AAEH,IAAA,EAAE,EAAE,IAAI,CAAC,GAAL,EAFD;AAGH,IAAA,MAAM,EAAA,MAHH;AAIH,IAAA,GAAG,EAAA,GAJA;AAKH,IAAA,UAAU,EAAA;AALP,GAAP;AAOH;;AAxBD,OAAA,CAAA,SAAA,GAAA,SAAA","sourceRoot":"","sourcesContent":["\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.getAction = void 0;\nfunction getAction(action_type, gif_id, tid, position, attributes) {\n    if (attributes === void 0) { attributes = []; }\n    if (position &&\n        // apppend position only if it's not passed as a custom attribute\n        !attributes.some(function (attributes) { return attributes.key === 'position'; })) {\n        attributes.push({\n            key: \"position\",\n            value: JSON.stringify(position),\n        });\n    }\n    return {\n        action_type: action_type,\n        ts: Date.now(),\n        gif_id: gif_id,\n        tid: tid,\n        attributes: attributes,\n    };\n}\nexports.getAction = getAction;\n//# sourceMappingURL=util.js.map"]},"metadata":{},"sourceType":"script"}